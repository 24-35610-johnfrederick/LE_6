{% extends "base.html" %}

{% block title %}Records{% endblock %}

{% block content %}

<style>
    .record-list {
        list-style: none;
        padding: 0;
    }

    .record-item {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 6px;
        width: 500px;
        background: #f9f9f9;
    }

    .record-title {
        font-weight: bold;
        font-size: 1.2em;
        margin-bottom: 5px;
    }

    .record-content {
        margin-bottom: 10px;
    }

    .actions a, .actions form {
        display: inline-block;
        margin-right: 10px;
    }

    .actions button {
        cursor: pointer;
    }
</style>

<h1>All Records</h1>

<p><a href="{{ url_for('main.create_record') }}">+ Create New Record</a></p>

{% if records %}
<ul class="record-list">

    {% for record in records %}
    <li class="record-item">

        <div class="record-title">{{ record.title }}</div>

        {% if record.content %}
            <div class="record-content">{{ record.content }}</div>
        {% endif %}

        <div class="actions">
            <a href="{{ url_for('main.view_record', id=record.id) }}">View</a>
            <a href="{{ url_for('main.edit_record', id=record.id) }}">Edit</a>

            <form action="{{ url_for('main.delete_record', id=record.id) }}"
                  method="POST"
                  style="display:inline;"
                  onsubmit="return confirm('Are you sure you want to delete this record?');">
                <button type="submit">Delete</button>
            </form>
        </div>

    </li>
    {% endfor %}

</ul>

{% else %}
    <p>No records yet. Create your first one!</p>
{% endif %}

{% endblock %}